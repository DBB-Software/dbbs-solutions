import type { Metadata } from 'next'
import type { AppProps } from "next/app";
{{#ifCond cssFramework '===' 'tailwind'}}
import '../styles/global.css'
{{/ifCond}}
{{#ifCond cssFramework '===' 'mui'}}
import ThemeRegistry from '../ThemeRegistry'
{{/ifCond}}
{{#if isJotaiStore}}
import { Provider } from '@dbbs/web-jotai-storage'
{{/if}}
{{#if isReduxToolkit}}
import { Provider } from '@dbbs/web-redux-storage'
import { wrapper } from '../lib/store'
{{/if}}


export const metadata: Metadata = {
  title: 'Create Next App',
  description: 'Generated by create next app'
}

export default function App(props: AppProps) {
  const { Component, pageProps } = props  
  
  {{#if isReduxToolkit}}
  const {store} = wrapper.useWrappedStore(props);
  {{/if}}
  return (
    <>
    {{#ifCond cssFramework '===' 'mui'}}
    <ThemeRegistry>
    {{/ifCond}}
    {{#if isReduxToolkit}}
    <Provider store={store}>
    {{/if}}
    {{#if isJotaiStore}}
    <Provider>
    {{/if}}
    <Component {...pageProps} />
    {{#if isJotaiStore}}
    </Provider>
    {{/if}}
    {{#if isReduxToolkit}}
    </Provider>
    {{/if}}
    {{#ifCond cssFramework '===' 'mui'}}
      </ThemeRegistry>
    {{/ifCond}}
    </>
  )
}
